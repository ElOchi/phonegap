<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
  <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script> -->
  <title>Location</title>
  <script src="key.js"></script>
  <script>
    var xmlhttp;

    window.onload = function() {
      // document.addEventListener("deviceready", init);
      init(); // test in browser
    }

    function init() {

      navigator.geolocation.getCurrentPosition(success, error);
    }

    function success(position) {
      var lat = position.coords.latitude;
      var long = position.coords.longitude;

      document.getElementById("lat").innerHTML = lat;
      document.getElementById("long").innerHTML = long;
      getAreaInfo(lat, long)
    }

      function getAreaInfo(lat, long) {
        var url = https://maps.googleapis.com/maps/api/place/nearbysearch/json?location="";
        url += lat ",";
        url += long;
        url += "&radius=500&types=food&key=" + key;
        xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = processPlace;
        xmlhttp.open("GET", url, true);
        xmlhttp.send();
      }
    function error(e) {
      alert(e.message);
    }
  </script>
</head>

<body>
  <h1>Device Location</h1>
  <p>Latitude: <output id="lat"></output></p>
  <p>Longitude: <output id="long"></output></p>
  <div id="result"></div>
  <script type="text/javascript" src="cordova.js"></script>
</body>

</html>
